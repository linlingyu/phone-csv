var util = require('utility').getInstance();
//
function c(){
    var self = this;
    self._mapping = {};
    self._array = [];
}

util.defineProperties(c.prototype, {
    put: function(key, item){
        var self = this,
            array = self._array,
            val = self._mapping[key];
        self._mapping[key] = item;
        if(val){
            array[array.indexOf(val)] = item;
        }else{
            array.push(item);
        }
    },
    
    remove: function(key){
        
    },
    
    has: function(key){
        return !!this._mapping[key];
    },
    
    get: function(ident){
        var self = this;
        return self._mapping[ident] || self._array[ident];
    },
    
    keys: function(){
        return Object.keys(this._mapping);
    },
    
    list: function(){
        return this._array;
    },
    
    clear: function(){
        var self = this;
        self._mapping = {};
        self._array = [];
    }
});
exports.getInstance = function(){return c;}